# Espaço Therapy Kids

Protótipo do sistema de gestão de pacientes do **Espaço Therapy Kids**, com backend em Java (JDBC puro) e frontend em React + Vite.

## Estrutura do Repositório

```
├─ EspacoTherapyKidsBackend/ # Código Java com JDBC puro para acesso ao banco
│  └─ src/
│     └─ main/
│         └─ java/
│             └─ org.example/
│                 ├─ EspacoTherapyKidsApplication.java # Classe que inicializa o backend
│                 ├─ factory/
│                 │  └─ ConnectionFactory.java # Classe que define URL, usuário e senha do DB
│                 └─ view/
│                    └─ PacienteView.java # Inicia o sistema no console
│
├─ EspacoTherapyKidsFrontend/ # Aplicação React + Vite
│  ├─ src/
│  ├─ package.json
│  └─ vite.config.js
│
├─ EspacoTherapyKidsSQL.sql
│
└─ README.md    
```

---

## Backend (Java + JDBC)

### Pré-requisitos

- Java 17+ instalado
- IDEs Intellij e VS Code
- Acesso ao banco de dados (Oracle ou outro suportado)

### Configuração de Conexão

A classe `ConnectionFactory.java` controla a conexão JDBC.  
Abra `EspacoTherapyKidsBackend/src/ConnectionFactory.java` e edite apenas:

```java
public class ConnectionFactory {
  public static Connection getConnection() throws SQLException {
    // Atualize para seu banco:
    String url      = "jdbc:oracle:thin:@//HOST:PORT/SERVICE";
    String user     = "SEU_USUARIO";
    String password = "SUA_SENHA";
    return DriverManager.getConnection(url, user, password);
  }
}
```

- **URL** em formato:
  - Oracle Service: `jdbc:oracle:thin:@//HOST:PORT/SERVICE_NAME`
  - Oracle SID:     `jdbc:oracle:thin:@HOST:PORT:SID`
  - Para MySQL:     `jdbc:mysql://HOST:3306/SEU_SCHEMA`
  - Para PostgreSQL:`jdbc:postgresql://HOST:5432/SEU_SCHEMA`
- **Usuário/Senha**: credenciais válidas no banco

### Banco de Dados

Use este script SQL ou o arquivo .SQL para criar a tabela `tb_paciente`:

```sql
CREATE TABLE tb_paciente (
  cd_paciente NUMBER GENERATED BY DEFAULT AS IDENTITY,
  nm_paciente VARCHAR2(100) NOT NULL,
  preco_fono NUMBER(10,2),
  horas_fono NUMBER(5,0),
  total_fono NUMBER(12,2),
  reembolso_fono NUMBER(10,2),
  nf_fono NUMBER(5,0),
  preco_to NUMBER(10,2),
  horas_to NUMBER(5,0),
  total_to NUMBER(12,2),
  reembolso_to NUMBER(10,2),
  nf_to NUMBER(5,0),
  preco_aba NUMBER(10,2),
  reembolso_aba NUMBER(10,2),
  nf_aba NUMBER(5,0),
  PRIMARY KEY (cd_paciente)
);
```

### Backend (Java) - IntelliJ

#### Execução

1. Para rodar o sistema no console, rode a classe **PacienteView** localizada em: `EspacoTherapyKidsBackend/src/main/java/org.example/factory/ConnectionFactory.java`

2. Para iniciar o backend, rode a classe em java **EspacoTherapyKidsApplication**, localizada em: `EspacoTherapyKidsBackend/src/main/java/org.example/EspacoTherapyKidsApplication.java`

---

## Frontend (React + Vite) - VS Code

### Configuração

1. Ajuste a URL caso o backend rode em outro host ou porta.

### Execução

1.No terminal rode:

```bash
npm install
npm run dev
```
2. Abra no navegador o localhost

---

## Endpoints Consumidos

- `GET    /api/pacientes`        → Lista todos
- `GET    /api/pacientes/{id}`   → Busca por ID
- `POST   /api/pacientes`        → Cria paciente
- `PUT    /api/pacientes/{id}`   → Atualiza paciente
- `DELETE /api/pacientes/{id}`   → Remove paciente

---
